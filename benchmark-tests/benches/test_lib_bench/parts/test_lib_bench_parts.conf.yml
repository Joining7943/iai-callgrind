groups:
  - runs_on: "!x86_64-unknown-freebsd"
    runs:
      - args: ["--nocapture"]
        rust_version: ">1.66.1"
        expected:
          zero_callgrind_metrics: true
          files: expected_files.yml
          stdout: expected_stdout
      - args: ["--nocapture"]
        rust_version: "<=1.66.1"
        expected:
          zero_callgrind_metrics: true
          files: expected_files.1.66.0.yml
          stdout: expected_stdout.1.66.0
  # The scheduler on freebsd is causing random results and neither the files
  # created by callgrind nor the stdout can be verified with a static
  # `expected_stdout` or `expected_files`. However, the benchmarks can be run to
  # at least verify that there aren't any errors/panics.
  - runs_on: "x86_64-unknown-freebsd"
    runs:
      - args: ["--nocapture"]
        expected:
          zero_callgrind_metrics: true
